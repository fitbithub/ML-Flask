{% extends "layout.html" %}
{% block content %}
    <div class="site-header-logo">
        <h1 class="text-center">
            Classification/Regression Analysis
        </h1>
    </div>
    <div class="row p-4">
        <div class="card m-auto" style="width: 90%;">

            <div id="successAlert" class="alert alert-success" role="alert" style="display:none;"></div>
            <div id="errorAlert" class="alert alert-danger" role="alert" style="display:none;"></div>
            <form class="form-inline">
                <div class="form-group mb-2">
                  <input type="email" class="form-control-plaintext" id="email" placeholder="email@example.com" required>
                </div>
                <button type="submit" class="btn btn-primary mb-2">Submit</button>
              </form>
        </div>
    </div>
    <div class="row p-4">
        <div class="card m-auto" style="width: 25%;">
            <img src="{{url_for('static', filename = 'images/project_1.png')}}" align="middle">
        </div>
        <div class="card m-auto" style="width: 25%;">
            <img src="{{url_for('static', filename = 'images/project_2.png')}}" align="middle">
        </div>
        <div class="card m-auto" style="width: 25%;">
            <img src="{{url_for('static', filename = 'images/project_3.png')}}" align="middle">
        </div>
        <div class="card m-auto" style="width: 25%;">
            <img src="{{url_for('static', filename = 'images/project_4.png')}}" align="middle">
        </div>
    </div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>    
<script type="text/javascript">
    $(document).ready(function(){
        $('form').on('submit', function(event){
            $.ajax({data:{email: $('#email').val()}, type: 'POST', url: '/dataSubmit'})
            .done(function(data){
                if(data.error)
                {
                    $('#errorAlert').text(data.error).show();
                    $('#successAlert').hide();
                }
                else
                {
                    $('#successAlert').text(data.output).show();
                    $('#errorAlert').hide();
                }
                
                
            });
            event.preventDefault();  
        });
    });
</script>
{% endblock %}